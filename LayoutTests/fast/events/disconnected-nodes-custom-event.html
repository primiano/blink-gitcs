<!DOCTYPE html>
<html>
<head>
<script src="../js/resources/js-test-pre.js"></script>
</head>
<body>
<div id="console"></div>
<script>
description("Custom events should propagate in disconnected DOM trees.");
var parent = document.createElement('div');
var child = document.createElement('div');
parent.appendChild(child);
parent.addEventListener('foo', function(e) { testPassed("parent receives an event"); },  true);
child.addEventListener('foo', function(e) { testPassed("child receives an event"); },  true);
var event = document.createEvent('Event');
event.initEvent('foo', true, true);
child.dispatchEvent(event)
</script>
<script src="../js/resources/js-test-post.js"></script>
</body>
</html>
