<!doctype html>
<html>
<head>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}
</script>
</head>
<body onload="onLoad()">><p id="scopingNode"><style scoped></style>
></p>
<style>
</style>
<script>
document.body.contentEditable = "true";

function onLoad() {
    var style = document.getElementsByTagName("style")[0];
    style.scoped = false;
    setTimeout("runTest()", 0);
}

function invokeEditingCommand() {
    if (!window.eventSender)
        return;
    for (var i = 0; i < 8; i++)
        eventSender.keyDown("\t", []);
    for (var i = 0; i < 5; i++)
        eventSender.keyDown("X");
    for (var i = 0; i < 6; i++)
        eventSender.keyDown("\t", []);
    eventSender.keyDown("\r", []);

    document.body.innerHTML = 'PASS';
    testRunner.notifyDone();
}

function runTest() {
    document.adoptNode(scopingNode);
    gc();
    setTimeout('invokeEditingCommand();', 0);
}
</script>
</body>
</html>
