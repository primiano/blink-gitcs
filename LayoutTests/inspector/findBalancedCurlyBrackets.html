<html>
<head>
<script src="../http/tests/inspector/inspector-test.js"></script>

<script>
function test()
{
    var testStrings = [
        {"odd back slashes with text around":"tes\\\"t"},
        {"escaped double quotes":"\"test\""},
        {"escaped back slash before double quote":"test\\"},
        {1:2},
        {"":""},
        {"nested brackets":{}},
        {"nested brackets with double quotes":{"":""}},
        {"etc":{"\\":"\""}},
        {"etc":{"\\\\":"\\"}},
        {"etc":{"\\\\\"":"\\\\\""}},
    ];

    for (var i = 0; i < testStrings.length; ++i) {
        var string = JSON.stringify(testStrings[i]);
        var index = WebInspector.TextUtils.findBalancedCurlyBrackets(string);
        InspectorTest.addResult((string === string.slice(0, index) ? "PASS: " : "FAIL: ") + " '" + string + "'");
    }
    InspectorTest.completeTest();
}
</script>

<body onload="runTest()">
Test that WebInspector.TextUtils.findBalancedCurlyBrackets correctly matches curly brackets and double quotes.
</p>
</body>
</html>
