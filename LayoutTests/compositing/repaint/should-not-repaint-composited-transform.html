<!DOCTYPE html>
<style>
#composited-box {
    width: 100px;
    height: 100px;
    border: solid 1px black;
    -webkit-transform:translate3D(0, 0, 0);
}
</style>
<div id="composited-box"></div>
<pre id="console"></pre>
<script src="../../resources/run-after-display.js"></script>
<script>
    function doTest() {
        internals.startTrackingRepaints(document);
        document.getElementById("composited-box").style.webkitTransform = "translate3D(100px, 100px, 0)";
        document.getElementById("console").textContent = internals.layerTreeAsText(document, internals.LAYER_TREE_INCLUDES_REPAINT_RECTS);
        testRunner.notifyDone();
    }

    if (window.testRunner && window.internals) {
      testRunner.dumpAsText();
      testRunner.waitUntilDone();
      runAfterDisplay(doTest);
    }
</script>
