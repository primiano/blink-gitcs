<!--
Copyright 2014 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="ct-failure-stream.html">

<script>
(function () {

module("ct-failure-stream");

asyncTest("basic", 3, function() {
  var stream = document.createElement('ct-failure-stream');

  // FIXME: We should use some more interesting test data, but
  // ct-failure-stream will give these values to ct-commit-data,
  // which will hit the network unless we figure out how to mock
  // out ct-commit-data in a better way.
  stream.groups = [[], []];

  Platform.endOfMicrotask(function() {
    var cards = stream.shadowRoot.querySelectorAll('ct-failure-card');
    equal(cards.length, 2);
    deepEqual(cards[0].failures, []);
    deepEqual(cards[1].failures, []);

    start();
  });
});

})()
</script>
