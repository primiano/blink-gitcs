<!--
Copyright 2014 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="ct-failure-card.html">

<script>
(function () {

module("ct-failure-card");

test("testNames", 1, function() {
  var card = document.createElement('ct-failure-card');
  // FIXME: Use a proper model class instead of a dumb object.
  var failures = [
    {testName: 'foo'},
    {testName: 'bar'},
    {testName: 'baz'},
  ];
  deepEqual(card.testNames(failures), ['bar', 'baz', 'foo']);
});

asyncTest("examine", 1, function() {
  var card = document.createElement('ct-failure-card');
  card.failures = [];

  Platform.endOfMicrotask(function() {
    card.addEventListener('ct-examine-failures', function(event) {
      deepEqual(event.detail, []);
      start();
    });

    card.shadowRoot.getElementById('examine').dispatchEvent(new CustomEvent('tap'));
  });
});

})()
</script>
