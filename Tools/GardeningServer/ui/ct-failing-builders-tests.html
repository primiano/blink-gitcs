<!--
Copyright 2014 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="ct-failing-builders.html">

<script>
(function () {

var kExampleBuilders = {
  'Win7 (dbg)': ['compile'],
  'WebKit Mac10.6 (dbg)': ['content_browsertests', 'unit_tests'],
  'WebKit XP': ['runhooks', 'webkit_unit_tests', 'webkit_lint'],
};

module("ct-failing-builders");

asyncTest("basic", 3, function() {
  var el = document.createElement('ct-failing-builders');
  el.builders = kExampleBuilders;

  el.async(function() {
    var builders = el.shadowRoot.querySelectorAll('ct-builder');
    for (var i = 0; i < builders.length; i++) {
      var steps = builders[i].shadowRoot.querySelector('.details');
      ok(steps.textContent == 'compile' ||
         steps.textContent == 'content_browsertests, unit_tests' ||
         steps.textContent == 'runhooks, webkit_unit_tests, webkit_lint');
    }
    start();
  });
});

})()
</script>
