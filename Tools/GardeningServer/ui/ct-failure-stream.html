<!--
Copyright 2014 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="ct-failure-card.html">

<polymer-element name="ct-failure-stream" attributes="groups commitLog tree category title" noscript>
  <template>
    <style>
      :host {
        display: block;
      }

      ct-failure-card {
        margin-bottom: 5px;
        padding: 5px;
        border-bottom: 1px solid lightgrey;
      }

      /* FIXME: Don't use before hax to add labels */
      ct-failure-card:first-of-type::before {
        content: "{{ title }}:";
        display: block;
        font-weight: bold;
        font-size: 18px;
        padding: 5px;
        background-color: #f5f5f5;
        margin-bottom: 5px;
      }
    </style>
    <template repeat="{{ group in groups }}">
      <template if="{{ group.category == category }}">
        <ct-failure-card group="{{ group }}" commitLog="{{ commitLog }}" tree="{{ tree }}"></ct-failure-card>
      </template>
    </template>
  </template>
</polymer-element>
