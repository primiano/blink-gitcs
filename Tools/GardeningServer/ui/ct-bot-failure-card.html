<!--
Copyright 2014 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="ct-builder-grid.html">
<link rel="import" href="ct-commit-list.html">
<link rel="import" href="ct-test-list.html">

<polymer-element name="ct-bot-failure-card" attributes="group commitLog" noscript>
  <template>
    <style>
      :host {
        display: flex;
      }

      ct-builder-grid {
        margin-right: 10px;
        width: 250px;
      }

      ct-commit-list {
        margin-top: 15px;
      }

      #failure {
        flex: 1;
      }
    </style>
    <ct-builder-grid builderList="{{ group.builderList }}"></ct-builder-grid>
    <div id="failure">
      <ct-test-list tests="{{ group.failures }}" tree="{{ tree }}"></ct-test-list>
      <ct-commit-list commitList="{{ group.commitList }}"></ct-commit-list>
    </div>
  </template>
  <script>
    Polymer({
      group: null,
      commitLog: null,
      _builderList: null,

      observe: {
        group: '_updateCommitList',
        commitLog: '_updateCommitList',
      },

      _updateCommitList: function() {
        if (this.group && this.group.commitList && this.commitLog)
          this.group.commitList.update(this.commitLog);
      },
    });
  </script>
</polymer-element>


