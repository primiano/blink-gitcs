<!--
Copyright 2014 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->

<link rel="import" href="../ct-builder.html">

<script>
(function () {

var assert = chai.assert;

describe('ct-builder', function() {
  var builder;
  var masterUrl = 'http://url';
  var builderName = 'WebKit Linux (dbg)';
  var firstFailingBuild = '1234';

  beforeEach(function(done) {
    builder = document.createElement('ct-builder');
    builder.builder = new CTBuilder(masterUrl, builderName, firstFailingBuild);

    setTimeout(done);
  });

  describe('default builder UI', function() {
    it('should link to the builder', function() {
      var a = builder.shadowRoot.querySelector('a');
      assert.ok(a);
      assert(a.href.startsWith(masterUrl));
      assert.include(a.href, encodeURIComponent(builderName));
      assert.include(a.href, firstFailingBuild);
    });
  });
});

})()
</script>
