{% from "macros.tmpl" import license -%}
{{ license() }}

#include "config.h"

#ifdef SKIP_STATIC_CONSTRUCTORS_ON_GCC
#define {{namespace}}_HIDE_GLOBALS 1
#endif

#include "{{namespace}}.h"

#include "wtf/StaticConstructors.h"

namespace WebCore {
namespace {{namespace}} {

using namespace WTF;

{%- for name in names %}
DEFINE_GLOBAL(AtomicString, {{name}})
{%- endfor %}

void init()
{
{%- for name in names %}
    StringImpl* {{name}}Impl = StringImpl::createStatic("{{name}}", {{name|length}}, {{name|hash}});
{%- endfor %}


{%- for name in names %}
    new ((void*)&{{name}}) AtomicString({{name}}Impl);
{%- endfor %}
}

} // {{namespace}}
} // WebCore
