// Copyright 2014 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

// This file has been auto-generated by code_generator_v8.py. DO NOT MODIFY!

#include "config.h"
#include "V8TestDictionary.h"

#include "bindings/core/v8/Dictionary.h"
#include "bindings/tests/v8/V8TestInterface.h"

namespace blink {

TestDictionary* V8TestDictionary::toNative(v8::Isolate* isolate, v8::Handle<v8::Value> v8Value)
{
    TestDictionary* impl = TestDictionary::create();
    // FIXME: Do not use Dictionary and DictionaryHelper
    // https://crbug.com/321462
    Dictionary dictionary(v8Value, isolate);
    bool booleanMember;
    if (DictionaryHelper::get(dictionary, "booleanMember", booleanMember))
        impl->setBooleanMember(booleanMember);
    double doubleOrNullMember;
    if (DictionaryHelper::get(dictionary, "doubleOrNullMember", doubleOrNullMember))
        impl->setDoubleOrNullMember(doubleOrNullMember);
    int longMember;
    if (DictionaryHelper::get(dictionary, "longMember", longMember))
        impl->setLongMember(longMember);
    else
        impl->setLongMember(1);
    String stringMember;
    if (DictionaryHelper::get(dictionary, "stringMember", stringMember))
        impl->setStringMember(stringMember);
    String stringOrNullMember;
    if (DictionaryHelper::get(dictionary, "stringOrNullMember", stringOrNullMember))
        impl->setStringOrNullMember(stringOrNullMember);
    else
        impl->setStringOrNullMember(String("default string value"));
    RefPtr<TestInterfaceImplementation> testInterfaceMember;
    if (DictionaryHelper::get(dictionary, "testInterfaceMember", testInterfaceMember))
        impl->setTestInterfaceMember(testInterfaceMember);
    RefPtr<TestInterfaceImplementation> testInterfaceOrNullMember;
    if (DictionaryHelper::get(dictionary, "testInterfaceOrNullMember", testInterfaceOrNullMember))
        impl->setTestInterfaceOrNullMember(testInterfaceOrNullMember);
    return impl;
}

v8::Handle<v8::Value> toV8(TestDictionary* impl, v8::Handle<v8::Object> creationContext, v8::Isolate* isolate)
{
    v8::Handle<v8::Object> v8Object = v8::Object::New(isolate);
    if (impl->hasBooleanMember())
        v8Object->Set(v8String(isolate, "booleanMember"), v8Boolean(impl->booleanMember(), isolate));
    if (impl->hasDoubleOrNullMember())
        v8Object->Set(v8String(isolate, "doubleOrNullMember"), v8::Number::New(isolate, impl->doubleOrNullMember()));
    else
        v8Object->Set(v8String(isolate, "doubleOrNullMember"), v8::Null(isolate));
    if (impl->hasLongMember())
        v8Object->Set(v8String(isolate, "longMember"), v8::Integer::New(isolate, impl->longMember()));
    else
        v8Object->Set(v8String(isolate, "longMember"), v8::Integer::New(isolate, 1));
    if (impl->hasStringMember())
        v8Object->Set(v8String(isolate, "stringMember"), v8String(isolate, impl->stringMember()));
    if (impl->hasStringOrNullMember())
        v8Object->Set(v8String(isolate, "stringOrNullMember"), impl->stringOrNullMember().isNull() ? v8::Handle<v8::Value>(v8::Null(isolate)) : v8String(isolate, impl->stringOrNullMember()));
    else
        v8Object->Set(v8String(isolate, "stringOrNullMember"), v8String(isolate, String("default string value")));
    if (impl->hasTestInterfaceMember())
        v8Object->Set(v8String(isolate, "testInterfaceMember"), toV8(impl->testInterfaceMember(), creationContext, isolate));
    if (impl->hasTestInterfaceOrNullMember())
        v8Object->Set(v8String(isolate, "testInterfaceOrNullMember"), toV8(impl->testInterfaceOrNullMember(), creationContext, isolate));
    return v8Object;
}

} // namespace blink
